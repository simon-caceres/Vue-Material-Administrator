<template>
 <div>
    <div>
      <h1>Home</h1>
    </div>
  <v-row class="text-center" cols="12">
    <v-col md="3" sm="6">
    <v-card >
    <v-list-item >
      <v-list-item-avatar
          tile
          size="100"
          color="red"
          class="white--text"
        >
        <p>150+ connections</p>
        </v-list-item-avatar>
        <v-list-item-content>
        <span>
          <svg style="width:80px;height:80px" viewBox="0 0 24 24">
              <path fill="red" d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z" />
          </svg>
        </span>
        </v-list-item-content>
        </v-list-item>
   </v-card>
     </v-col>
     <v-col md="3" sm="6">
    <v-card > 
      <v-list-item >
        <v-list-item-avatar class="white--text" tile size="100" color="purple">
          <p>+500 shots</p>
        </v-list-item-avatar>
        <v-list-item-content>
          <span>
            <svg style="width:80px;height:80px" viewBox="0 0 24 24">
            <path fill="purple" d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z" />
            </svg>
          </span>
        </v-list-item-content>
      </v-list-item>
    </v-card>
     </v-col>
    <v-col md="3" sm="6">
    <v-card >
      <v-list-item>
        <v-list-item-avatar class="white--text" tile size="100" color="blue">
          <p>+200 followers</p>
        </v-list-item-avatar>
        <v-list-item-content>
          <span>
              <svg style="width:80px;height:80px" viewBox="0 0 24 24">
              <path fill="blue" d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" />
            </svg>
          </span>
        </v-list-item-content>
      </v-list-item>
    </v-card>
    </v-col>
    <v-col md="3" sm="6">
    <v-card >  
      <v-list-item >
        <v-list-item-avatar class="white--text" tile size="100" color="primary">
          <p >+1000 likes</p>
        </v-list-item-avatar>
        <v-list-item-content>
          <span>
          <svg style="width:80px;height:80px" viewBox="0 0 24 24">
          <path fill="blue" d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z" />
          </svg>
         </span>
        </v-list-item-content>
      </v-list-item>
    </v-card>
    </v-col>
    </v-row>
        <v-spacer></v-spacer>
      <h1>
        Website data:
      </h1>
    <v-container fluid>
      <v-row cols="12">
        <v-col col="8" sm="6">
        <v-card class="pa-6">
          <v-card-title class="text-center "><h2>Website Visits</h2></v-card-title>
          <div>
            <linChart :chart-data="datacolection"> </linChart>
          </div>
        </v-card>
        </v-col>
        <v-col col="4" sm="6">
        <v-card class="text-center pa-2">
        <v-card-title class="text-center pa-4"><h2>Top Location</h2></v-card-title>
        <div >
          <polarchart :chart-data="polardata"> </polarchart>
        </div>
      </v-card>
        </v-col>
      </v-row>
      <h1>
        Work Data:
      </h1>
      <Details > </Details>
      <projects > </projects>
      </v-container>
  </div>
</template>


<script>
import axios from 'axios'
import LinChart from '../chart/LineChart.js'
import polarchart from '../chart/PolarArea.js'
import Details from './Details.vue'
import Projects from './Projects.vue'

export default {
    components: { 
        LinChart ,
        polarchart,
        Details,
        Projects
    },
    data() {
        return {
            datacolection: null,
            polardata: null,
            loaded: false,
            historical: '',
            temperature: [0,1,2,3,4,5,6,7,8,9,10],
            potentio: [],
            time:[ 
                '04-05-2020',
                '05-05-2020',
                '06-05-2020',
                '07-05-2020',
                '08-05-2020',
                '09-05-2020',
                '10-05-2020',
                '11-05-2020',
                '12-05-2020',
                '13-05-2020',
                '14-05-2020',
                '15-05-2020',
                '16-05-2020',
                '17-05-2020',
                '18-05-2020',
                '19-05-2020',
                '20-05-2020',
                '21-05-2020',
                '22-05-2020',
                '23-05-2020',
                '24-05-2020',
                '26-05-2020',
                '27-05-2020',
                '28-05-2020',
                '29-05-2020',
                '30-05-2020',
                '31-05-2020',
                '02-06-2020',
                '03-06-2020',
                '04-05-2020',
            ],
            dataTime: '',
            humidity: [10,9,8,7,6,5,4,3,2,1,0]
            
        }
    },

    async mounted() {
        try {
        this.polardataget()
        this.fillData()
        await this.getFavoriot()
        } catch (error) {
            console.log(error)
        }
        
    },
    methods: {
        fillData() {
            this.datacolection = {
                labels: this.time,
                datasets: [
                    {
                        label: 'Visitas al Web Site',
                        backgroundColor: 'rgba(255, 159, 64, 0.2)',
                        borderColor: 'orange',
                        pointBackgroundColor: 'orange',
                        borderWidth: 1,
                        pointBorderColor: '#203A43',
                        data: this.potentio
                    }
                ]
            }
        },

        polardataget() {
              this.polardata = {
              datasets: [
                {
                  label: 'control',
                  backgroundColor: [
                     "rgba(255, 0, 0, 0.5)",
                     "rgba(100, 255, 0, 0.5)",
                     "rgba(200, 50, 255, 0.5)",
                      "rgba(0, 100, 255, 0.5)"
                  ],
                  data: ['1200','1900','800','200']
              }],
              labels: ["Santiago", "ViÃ±a del Mar", "Concepcion", "Rancagua"]
            }
        },

        getFavoriot() {
            axios.get('https://api.coindesk.com/v1/bpi/historical/close.json')
            .then((response) => {
                this.historical = response.data.bpi
                for (const prop in this.historical) {
                    this.potentio.push(Math.round(this.historical[prop]))
                }
                console.log(this.potentio)
            })
            .catch (error =>{console.log(error)})
        },

        getTransaction() {
            const headers = {"Access-Control-Allow-Origin": "*"}
            axios.get('https://api.blockchain.info/charts/transactions-per-second?timespan=1weeks&rollingAverage=24hours&format=json' , headers)
                .then((response) => {
                    console.log(response)
                })
                .catch(error => {
                    console.log(error)
                })
        }
    }
}
</script>

<style>
.container {
    width: 90%;
    height: 120px;
}

</style>
